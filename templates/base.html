<!DOCTYPE html>{% load cms_tags menu_tags sekizai_tags static i18n %}{% spaceless %}
<html lang="{{ LANGUAGE_CODE }}" style="height: 100%;" xmlns="http://www.w3.org/1999/html">
        <head>
            <meta charset="utf-8"/>
            <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
            {% if request.get_host == "critifood.ru" or request.get_host == "www.critifood.ru" %}
                <meta name="yandex-verification" content="2c76750968f1bb97" />
            {% endif %}
            {% block meta %}
<!--                <meta name="description" content="{% page_attribute meta_description %}"/>-->
                <meta property="og:type" content="website"/>
                <meta property="og:title" content="{% page_attribute "page_title" %}"/>
                <meta property="og:description" content="{% page_attribute meta_description %}"/>
            {% endblock meta %}
            {% block canonical_url %}
                <link rel="canonical" href="{{ request.build_absolute_uri }}"/>
                <meta property="og:url" content="{{ request.build_absolute_uri }}"/>
            {% endblock canonical_url %}
            {% block fb_meta %}{% endblock fb_meta %}
            <title>CritiFood — обзоры ресторанов и блюд</title>
            <meta name="description" content="CritiFood — честные обзоры ресторанов, вкусных блюд. Читайте отзывы, сравнивайте меню и выбирайте лучшее для себя.">
            {% block base_css %}{% endblock %}
{% endspaceless %}{% render_block 'css' %}{% spaceless %}
    {% block page_head %}{% endblock %}
        <style>
            html, body {
                padding-top: 22px;
                height: 100%;
                margin: 0;
            }
            body {
                display: flex;
                flex-direction: column;
            }
            main {
                flex: 1 0 auto;
            }
            footer {
                flex-shrink: 0;
            }
        </style>

        <!-- Yandex.Metrika counter -->
        <script type="text/javascript">
            (function(m,e,t,r,i,k,a){
                m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
                m[i].l=1*new Date();
                for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
                k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
            })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=107042384', 'ym');

            ym(107042384, 'init', {ssr:true, webvisor:true, trackHash:true, clickmap:true, referrer: document.referrer, url: location.href, accurateTrackBounce:true, trackLinks:true});
        </script>
        <noscript><div><img src="https://mc.yandex.ru/watch/107042384" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
        <!-- /Yandex.Metrika counter -->

    </head>

      <style>
        :root {
          --bg-rgb-1: 253,251,250;
          --bg-rgb-2: 253,251,250;
          --bg-rgb-3: 253,251,250;
          --bg-rgb-4: 253,251,250;
          --bg-rgb-5: 253,251,250;
          --bg-rgb-6: 253,251,250;
        }

        [data-bs-theme="dark"] {
          --bg-rgb-1: 5,5,5;
          --bg-rgb-2: 5,5,5;
          --bg-rgb-3: 5,5,5;
          --bg-rgb-4: 5,5,5;
          --bg-rgb-5: 5,5,5;
          --bg-rgb-6: 5,5,5;
        }

        body {
          margin: 0;
          min-height: 100vh;
          animation: theme 21s linear infinite;
          font-family: "PT Sans", sans-serif;
        }

        body::after,
        body::before {
          content: '';
          display: block;
          position: fixed;
          z-index: -1;
          top: 0;
          width: 100vw;
          height: 100vh;
          width: 100vmax;
          height: 100vmax;
          background: rgba(var(--bs-emphasis-color-rgb), 0.03);
          animation: background 90s linear infinite;
        }

        body::after {
          left: 15vw;
        }

        body::before {
          right: 15vw;
          animation-delay: -30s;
          animation-direction: reverse;
        }

        @keyframes theme {
          0%   { background-color: rgba(var(--bg-rgb-1), 0.95); }
          16%  { background-color: rgba(var(--bg-rgb-2), 0.95); }
          33%  { background-color: rgba(var(--bg-rgb-3), 0.95); }
          50%  { background-color: rgba(var(--bg-rgb-4), 0.95); }
          66%  { background-color: rgba(var(--bg-rgb-5), 0.95); }
          83%  { background-color: rgba(var(--bg-rgb-6), 0.95); }
          100% { background-color: rgba(var(--bg-rgb-1), 0.95); }
        }

        @keyframes background {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }

        /* === SVG-иконка по центру === */
        .background-icon {
          position: fixed;
          top: 50%;
          left: 48%;
          transform: translate(-50%, -50%);
          width: 100vw;
          /*max-width: 1200px;*/
          height: auto;
          opacity: 0.03;
          pointer-events: none;
          z-index: -1;
          animation: sway 8s ease-in-out infinite;
        }

        @keyframes sway {
          0% {
            transform: translate(-50%, -50%) rotate(0deg) scale(1);
          }
          25% {
            transform: translate(-50%, -50%) rotate(2deg) scale(1.02);
          }
          75% {
            transform: translate(-50%, -50%) rotate(-2deg) scale(0.98);
          }
          100% {
            transform: translate(-50%, -50%) rotate(0deg) scale(1);
          }
        }

        [data-bs-theme="dark"] .background-icon {
          opacity: 0.05;
        }

        @media (max-width: 768px) {
          .background-icon {
               top: 36%;
               width: 100vw;
            max-width: 800px;
          }
        }

        @media (min-width: 769px) and (max-width: 1200px) {
          .background-icon {
            top: 34%;
            width: 100vw;
            max-width: 1000px;
          }
        }

        @media (min-width: 1201px) and (max-width: 1400px) {
          .background-icon {
            top: 43%;
            width: 100vw;
            max-width: 1100px;
          }
        }


      </style>


    <body {% block body_attrs %}{% endblock %}>
    <img src="{% static 'restaurant-spoon-svgrepo-com.svg' %}" class="background-icon">
{% endspaceless %}{% cms_toolbar %}{% spaceless %}
    {% block navbar %}{% endblock %}
    {% include 'navbar.html' %}
    <main>
    {% block content %}
        {% placeholder "Content" %}
    {% endblock content %}
    </main>
    {% block footer %}{% endblock %}
    {% include 'footer.html' %}
    {% block modal %}
    {% endblock modal %}
    {% block base_js %}{% endblock %}
{% endspaceless %}{% render_block 'js' %}{% spaceless %}
    {% block end_js %}{% endblock %}
    {% block bottom_css %}{% endblock %}


    <div id="cookie-banner" class="cookie-banner hidden">
      <p>Мы используем файлы cookie, чтобы улучшить работу сайта и персонализировать контент. Продолжая использовать сайт, вы соглашаетесь с использованием cookie.</p>
      <div class="cookie-buttons">
        <button id="accept-cookies">Принимаю</button>
        <a href="/privacy/" target="_blank">Подробнее</a>
      </div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const banner = document.getElementById('cookie-banner');
        const acceptBtn = document.getElementById('accept-cookies');

        // Проверяем, было ли уже согласие
        if (!localStorage.getItem('cookiesAccepted')) {
          banner.classList.remove('hidden');
        }

        acceptBtn?.addEventListener('click', function () {
          localStorage.setItem('cookiesAccepted', 'true');
          banner.classList.add('hidden');

          // Здесь можно запустить аналитику, например:
          // initAnalytics();
        });

        // Пример отложенной инициализации аналитики
        // function initAnalytics() {
        //   // Загрузка Яндекс.Метрики, GA и т.п.
        // }
      });
    </script>
    </body>
    </html>{% endspaceless %}
